{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\naxios.defaults.baseURL = 'https://pixabay.com'\n\nexport default function getImagesByQuery(query) {\n\n  return axios.get('/api/', {\n    params: {\n      key: '50436356-4cb7de4c874e77a26622e7211',\n      q: `${query}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    }\n  }).then(response => {\n    if (response.data.hits.length === 0) {\n      throw new Error('ERROR')\n    } else { return response.data.hits }\n\n  })\n    .catch(error => {\n      iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: 'topRight',\n        maxWidth: 400,\n      })\n\n    })\n\n}\n\n\n\n\n\n\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst galleryList = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\n\nexport function createGallery(images) {\n\n  const markup = cardsTemplate(images)\n  galleryList.innerHTML = markup\n  lightbox.refresh()\n\n}\n\nfunction cardTemplate(obj) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = obj\n  const alt = tags.split(\",\").slice(0, 4).join(',')\n\n  return `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${alt}\">\n        <ul class=\"text-list\">\n          <li class=\"text-item\">\n            <h3  class=\"subtitle\">Likes</h3>\n            <p  class=\"text\">${likes}</p>\n          </li>\n          <li  class=\"text-item\">\n            <h3  class=\"subtitle\">Views</h3>\n            <p  class=\"text\">${views}</p>\n          </li>\n          <li  class=\"text-item\">\n            <h3  class=\"subtitle\">Comments</h3>\n            <p  class=\"text\">${comments}</p>\n          </li>\n          <li  class=\"text-item\">\n            <h3  class=\"subtitle\">Download</h3>\n            <p  class=\"text\">${downloads}</p>\n          </li>\n        </ul>\n      </a></li>`\n}\n\nfunction cardsTemplate(arr) {\n  return arr.map(cardTemplate).join('\\n\\n\\n')\n}\n\n\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.removeAttribute('hidden')\n}\n\nexport function hideLoader() {\n  loader.setAttribute('hidden', 'true')\n}\n\n\nconst lightbox = new SimpleLightbox('.gallery-item .gallery-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\n","\nimport getImagesByQuery from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\nimport { hideLoader } from \"./js/render-functions\";\nimport { showLoader } from \"./js/render-functions\";\n\n\nconst form = document.querySelector(\".form\")\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  let userSearch = e.target.elements['search-text'].value.trim().toLowerCase()\n  console.log(userSearch);\n  showLoader()\n  if (userSearch) {\n    getImagesByQuery(userSearch).then((res) => {\n      clearGallery();\n      createGallery(res);\n      hideLoader();\n\n    }).catch(() => {\n      hideLoader()\n    });\n  }\n\n  form.reset()\n})"],"names":["axios","getImagesByQuery","query","response","error","iziToast","galleryList","loader","createGallery","images","markup","cardsTemplate","lightbox","cardTemplate","obj","webformatURL","largeImageURL","tags","likes","views","comments","downloads","alt","arr","clearGallery","showLoader","hideLoader","SimpleLightbox","form","e","userSearch","res"],"mappings":"owBAKAA,EAAM,SAAS,QAAU,sBAEV,SAASC,EAAiBC,EAAO,CAE9C,OAAOF,EAAM,IAAI,QAAS,CACxB,OAAQ,CACN,IAAK,qCACL,EAAG,GAAGE,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EAAE,KAAKC,GAAY,CAClB,GAAIA,EAAS,KAAK,KAAK,SAAW,EAChC,MAAM,IAAI,MAAM,OAAO,EAChB,OAAOA,EAAS,KAAK,IAElC,CAAG,EACE,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,SAAU,GAClB,CAAO,CAEP,CAAK,CAEL,CC1BA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAGxC,SAASC,EAAcC,EAAQ,CAEpC,MAAMC,EAASC,EAAcF,CAAM,EACnCH,EAAY,UAAYI,EACxBE,EAAS,QAAS,CAEpB,CAEA,SAASC,EAAaC,EAAK,CACzB,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAKP,EAC3EQ,EAAML,EAAK,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,GAAG,EAEhD,MAAO,0DAA0DD,CAAa,qCAAqCD,CAAY,UAAUO,CAAG;AAAA;AAAA;AAAA;AAAA,+BAI/GJ,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA;AAAA,gBAIxC,CAEA,SAASV,EAAcY,EAAK,CAC1B,OAAOA,EAAI,IAAIV,CAAY,EAAE,KAAK;AAAA;AAAA;AAAA,CAAQ,CAC5C,CAIO,SAASW,GAAe,CAC7BlB,EAAY,UAAY,EAC1B,CAEO,SAASmB,GAAa,CAC3BlB,EAAO,gBAAgB,QAAQ,CACjC,CAEO,SAASmB,GAAa,CAC3BnB,EAAO,aAAa,SAAU,MAAM,CACtC,CAGA,MAAMK,EAAW,IAAIe,EAAe,8BAA+B,CACjE,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EC3DKC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAM,CACrCA,EAAE,eAAc,EAEhB,IAAIC,EAAaD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,KAAM,EAAC,YAAa,EAC5E,QAAQ,IAAIC,CAAU,EACtBL,EAAY,EACRK,GACF7B,EAAiB6B,CAAU,EAAE,KAAMC,GAAQ,CACzCP,IACAhB,EAAcuB,CAAG,EACjBL,GAEN,CAAK,EAAE,MAAM,IAAM,CACbA,EAAY,CAClB,CAAK,EAGHE,EAAK,MAAO,CACd,CAAC"}