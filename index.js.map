{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios'\n\n\n\naxios.defaults.baseURL = 'https://pixabay.com'\n\nexport default function getImagesByQuery(query) {\n\n  return axios.get('/api/', {\n    params: {\n      key: '50436356-4cb7de4c874e77a26622e7211',\n      q: `${query}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    }\n  }).then(response => {\n    return response.data.hits\n  })\n\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst galleryList = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nconst lightbox = new SimpleLightbox('.gallery-item .gallery-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\nexport function createGallery(images) {\n\n  const markup = renderCards(images)\n  galleryList.innerHTML = markup\n  lightbox.refresh()\n\n}\n\nfunction renderCard(obj) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = obj\n  const alt = tags.split(\",\").slice(0, 4).join(',')\n\n  return `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${alt}\">\n        <ul class=\"text-list\">\n          <li class=\"text-item\">\n            <h3  class=\"subtitle\">Likes</h3>\n            <p  class=\"text\">${likes}</p>\n          </li>\n          <li  class=\"text-item\">\n            <h3  class=\"subtitle\">Views</h3>\n            <p  class=\"text\">${views}</p>\n          </li>\n          <li  class=\"text-item\">\n            <h3  class=\"subtitle\">Comments</h3>\n            <p  class=\"text\">${comments}</p>\n          </li>\n          <li  class=\"text-item\">\n            <h3  class=\"subtitle\">Download</h3>\n            <p  class=\"text\">${downloads}</p>\n          </li>\n        </ul>\n      </a></li>`\n}\n\nfunction renderCards(arr) {\n  return arr.map(renderCard).join('\\n\\n\\n')\n}\n\n\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.removeAttribute('hidden')\n}\n\nexport function hideLoader() {\n  loader.setAttribute('hidden', 'true')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImagesByQuery from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\nimport { hideLoader } from \"./js/render-functions\";\nimport { showLoader } from \"./js/render-functions\";\n\n\nconst form = document.querySelector(\".form\")\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  let userSearch = e.target.elements['search-text'].value.trim().toLowerCase()\n\n  if (userSearch === '') {\n    iziToast.warning({\n      message: 'The search field is empty. Please enter a keyword.',\n      position: 'topRight'\n    })\n    return\n  }\n\n  clearGallery();\n  showLoader()\n\n  getImagesByQuery(userSearch).then((res) => {\n    if (!res.length) {\n      iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: 'topRight',\n        maxWidth: 400,\n      })\n      return\n    }\n\n    createGallery(res);\n\n  }).catch((err) => {\n    iziToast.error({\n      message: \"An error occurred. Please try again later.\",\n      position: 'topRight',\n      maxWidth: 400,\n    })\n  }).finally(() => {\n    hideLoader()\n  })\n\n  form.reset()\n});"],"names":["axios","getImagesByQuery","query","response","galleryList","loader","lightbox","SimpleLightbox","createGallery","images","markup","renderCards","renderCard","obj","webformatURL","largeImageURL","tags","likes","views","comments","downloads","alt","arr","clearGallery","showLoader","hideLoader","form","e","userSearch","iziToast","res","err"],"mappings":"owBAIAA,EAAM,SAAS,QAAU,sBAEV,SAASC,EAAiBC,EAAO,CAE9C,OAAOF,EAAM,IAAI,QAAS,CACxB,OAAQ,CACN,IAAK,qCACL,EAAG,GAAGE,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EAAE,KAAKC,GACCA,EAAS,KAAK,IACtB,CAEH,CCfA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,8BAA+B,CACjE,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASC,EAAcC,EAAQ,CAEpC,MAAMC,EAASC,EAAYF,CAAM,EACjCL,EAAY,UAAYM,EACxBJ,EAAS,QAAS,CAEpB,CAEA,SAASM,EAAWC,EAAK,CACvB,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAKP,EAC3EQ,EAAML,EAAK,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,GAAG,EAEhD,MAAO,0DAA0DD,CAAa,qCAAqCD,CAAY,UAAUO,CAAG;AAAA;AAAA;AAAA;AAAA,+BAI/GJ,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA;AAAA,gBAIxC,CAEA,SAAST,EAAYW,EAAK,CACxB,OAAOA,EAAI,IAAIV,CAAU,EAAE,KAAK;AAAA;AAAA;AAAA,CAAQ,CAC1C,CAIO,SAASW,GAAe,CAC7BnB,EAAY,UAAY,EAC1B,CAEO,SAASoB,GAAa,CAC3BnB,EAAO,gBAAgB,QAAQ,CACjC,CAEO,SAASoB,GAAa,CAC3BpB,EAAO,aAAa,SAAU,MAAM,CACtC,CCvDA,MAAMqB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAM,CACrCA,EAAE,eAAc,EAEhB,IAAIC,EAAaD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,KAAM,EAAC,YAAa,EAE5E,GAAIC,IAAe,GAAI,CACrBC,EAAS,QAAQ,CACf,QAAS,qDACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IACAC,EAAY,EAEZvB,EAAiB2B,CAAU,EAAE,KAAME,GAAQ,CACzC,GAAI,CAACA,EAAI,OAAQ,CACfD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,SAAU,GAClB,CAAO,EACD,MACD,CAEDrB,EAAcsB,CAAG,CAErB,CAAG,EAAE,MAAOC,GAAQ,CAChBF,EAAS,MAAM,CACb,QAAS,6CACT,SAAU,WACV,SAAU,GAChB,CAAK,CACL,CAAG,EAAE,QAAQ,IAAM,CACfJ,EAAY,CAChB,CAAG,EAEDC,EAAK,MAAO,CACd,CAAC"}